<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Pragma" content="no-cache">
<meta name="viewport" content="width=device-width, height=50">
<style type="text/css">
	body { margin: 0px; padding: 0px; max-height: 50px !important; overflow: hidden; background-color: transparent; }
	div.adwrapper { margin: 0px; padding: 0px; max-height: 50px !important; overflow: hidden; }
</style>
<script type="text/javascript">
	function testExpandProp() {
		//mraid.setExpandProperties('{width:200,height:300,useCustomClose:true,isModal:true}');
		//mraid.expand();
	}
	
	var testStatus = true;// true = pass, false = fail
	
	function showTestStatus() {
		if (testStatus) {
			document.getElementById("asdf").style.backgroundColor = "#00ff00";
		} else {
			document.getElementById("asdf").style.backgroundColor = "#ff0000";
		}
	}
		
</script>
</head>
<body>

<div id="asdf" style="background-color: #ffffff; height: 50px;" onclick="testExpandProp();">
	MRAID tests
</div>

<script src="mraid.js"></script>

<script type="text/javascript">
if (mraid.getState() === 'loading') {
	mraid.addEventListener('ready', function() {
		var obj = {width:200,height:300,useCustomClose:true,isModal:true};
		mraid.setExpandProperties(obj);
		var obj = mraid.getExpandProperties();
		if (obj.width == 200 && obj.height == 300 && obj.useCustomClose == true) {
			// ok!
		} else {
			testStatus = false;
		}
		
		var or = {allowOrientationChange:true,forceOrientation:"portrait"};
		mraid.setOrientationProperties(or);
		var orGet = mraid.getOrientationProperties();
		if (orGet.allowOrientationChange == true && orGet.forceOrientation == "portrait") {
			// ok!
		} else {
			testStatus = false;
		}
		
		mraid.expand();
		//document.getElementById("asdf").innerHTML = mraid.getExpandProperties().width + mraid.getExpandProperties().height + mraid.getExpandProperties().useCustomClose;
	});
	
	mraid.addEventListener('stateChange', function(state){
		if (state == "expanded") {
			document.getElementById("asdf").innerHTML = "" + mraid.getExpandProperties().width + " " + mraid.getExpandProperties().height + " " + mraid.getExpandProperties().useCustomClose;
			showTestStatus();
		}
	});
} else {
	document.getElementById("asdf").style.backgroundColor = "#ff0000";
}
</script>

</body>
</html>